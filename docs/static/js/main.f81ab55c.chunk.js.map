{"version":3,"sources":["reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","apis/streams.js","history.js","actions/index.js","components/streams/StreamList.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamShow.js","components/GoogleAuth.js","context/LanguageContext.js","components/Header.js","components/App.js","index.js"],"names":["INITAL_STATE","isSignedIn","userId","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","payload","form","formReducer","streams","defineProperty","id","_","mapKeys","omit","axios","create","baseURL","createHistory","fetchStream","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","response","wrap","_context2","prev","next","get","concat","sent","data","stop","this","_x3","apply","StreamList","props","fetchStreams","stream","currentUserId","react_default","createElement","className","Link","to","_this","map","key","renderAdmin","title","description","renderList","renderCreate","React","Component","connect","values","_ref3","_callee3","_context3","_x4","StreamForm","renderInput","_ref","input","label","meta","error","touched","assign","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","name","component","formWrapped","reduxForm","validate","errors","StreamCreate","createStream","streams_StreamForm","_callee","getState","_context","post","history","push","_x","_x2","StreamEdit","editStream","match","params","initialValues","pick","_ref4","_callee4","_context4","patch","_x5","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","deleteStream","components_Modal","renderContent","_ref5","_callee5","_context5","delete","parseInt","_x6","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","prevProps","prevState","snapshot","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","_this$props$stream","ref","style","width","controls","console","log","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignOutClick","onSignInClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","createContext","Header","language","onLanguageChange","context","setState","components_GoogleAuth","contextType","LanguageContext","App","Router","components_Header","Switch","Route","path","exact","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.f81ab55c.chunk.js","sourcesContent":["const INITAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITAL_STATE, action) => {\n  switch (action.type) {\n    case 'SIGN_IN':\n      return {...state, isSignedIn: true, userId: action.payload};\n    case 'SIGN_OUT':\n      return {...state, isSignedIn: false, userId: null};\n    default:\n      return state;\n  }\n};","import {combineReducers} from \"redux\";\nimport {reducer as formReducer} from \"redux-form\";\nimport authReducer from './authReducer';\nimport streamReducer from \"./streamReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n})","import _ from \"lodash\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case \"CREATE_STREAM\":\n      return { ...state, [action.payload.id]: action.payload };\n    case \"FETCH_STREAM\":\n      return { ...state, [action.payload.id]: action.payload };\n    case \"FETCH_STREAMS\":\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\n    case \"EDIT_STREAM\":\n      return { ...state, [action.payload.id]: action.payload };\n    case \"DELETE_STREAM\":\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n};\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'http://localhost:3001'\n});","import createHistory from 'history/createBrowserHistory';\n\nexport default createHistory();","import streams from \"../apis/streams\";\nimport history from \"../history\";\n\nexport const signIn = id => {\n  return {\n    type: \"SIGN_IN\",\n    payload: id\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: \"SIGN_OUT\"\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\n\n  dispatch({ type: \"CREATE_STREAM\", payload: response.data });\n  history.push(\"/\");\n};\n\nexport const fetchStream = id => async dispatch => {\n  const response = await streams.get(`/streams/${id}`);\n\n  dispatch({ type: \"FETCH_STREAM\", payload: response.data });\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get(\"/streams\");\n\n  dispatch({ type: \"FETCH_STREAMS\", payload: response.data });\n};\n\nexport const editStream = (id, payload) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, payload);\n\n  dispatch({ type: \"EDIT_STREAM\", payload: response.data });\n  history.push(\"/\");\n};\n\nexport const deleteStream = id => async dispatch => {\n  const response = await streams.delete(`/streams/${id}`);\n\n  dispatch({ type: \"DELETE_STREAM\", payload: parseInt(id) });\n  history.push(\"/\");\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchStreams } from \"../../actions\";\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream) {\n    if (stream.userId === this.props.currentUserId) {\n      return (\n        <div className=\"right floated content\">\n          <Link className=\"ui button primary\" to={`/streams/edit/${stream.id}`}>\n            Edit\n          </Link>\n          <Link\n            className=\"ui button negative\"\n            to={`/streams/delete/${stream.id}`}\n          >\n            DELETE\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  renderList() {\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\" />\n          <div className=\"content\">\n              <Link to={`streams/${stream.id}`} className=\"header\">\n              {stream.title}\n              </Link>\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderCreate() {\n    if (this.props.isSignedIn) {\n      return (\n        <Link to=\"/streams/new\" className=\"ui button primary\">\n          Create Stream\n        </Link>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>.\n        {this.renderCreate()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToString = state => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(\n  mapStateToString,\n  { fetchStreams }\n)(StreamList);\n","import React, {Component} from 'react';\nimport { Field, reduxForm } from \"redux-form\";\nimport {connect} from \"react-redux\";\n\nclass StreamForm extends Component {\n  renderInput = ({input, label, meta}) => {\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\n    return (\n        <div className={className}>\n          <label>{label}</label>\n          <input {...input} autoComplete=\"off\"/>\n          {this.renderError(meta)}\n        </div>\n    );\n  };\n\n  renderError({error, touched}) {\n    if(error && touched) {\n      return (<div className=\"ui error message\">{error}</div>);\n    }\n  }\n\n  onSubmit = (formValues) => {\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n        <form onSubmit={this.props.handleSubmit(this.onSubmit)}\n              className=\"ui form error\">\n          <Field name=\"title\"\n                 component={this.renderInput}\n                 label=\"Enter Title\" />\n          <Field name=\"description\"\n                 component={this.renderInput}\n                 label=\"Enter description\" />\n          <button className=\"ui button primary\">Submit</button>\n        </form>\n    );\n  }\n\n}\n\nconst validate = (values) => {\n  const errors = {};\n  if(!values.title) {\n    errors.title = 'You must enter a title';\n  }\n  if(!values.description) {\n    errors.description = 'You must enter a description';\n  }\n  return errors;\n};\n\nconst formWrapped = reduxForm({\n  form: 'streamForm',\n  validate\n})(StreamForm);\n\nexport default connect(null)(formWrapped);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamCreate extends Component {\n  onSubmit = formValues => {\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Create Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { createStream }\n)(StreamCreate);\n","import _ from \"lodash\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchStream, editStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n    return (\n      <div>\n        <h3>Edit Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    stream: state.streams[props.match.params.id]\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, editStream }\n)(StreamEdit);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div\n        onClick={e => e.stopPropagation()}\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <p className=\"content\">{props.content}</p>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector(\"#modal\")\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"../Modal\";\nimport history from \"../../history\";\nimport { fetchStream, deleteStream } from \"../../actions\";\nimport { connect } from \"react-redux\";\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  actions() {\n    const { id } = this.props.match.params;\n    return (\n      <div className=\"actions\">\n        <button\n          className=\"ui primary button\"\n          onClick={() => this.props.deleteStream(id)}\n        >\n          Delete\n        </button>\n        <Link className=\"ui button\" to=\"/\">\n          Cancel\n        </Link>\n      </div>\n    );\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return `Are you sure you want to delete this stream?`;\n    }\n\n    return `Are you sure you want to delete: \\n ${this.props.stream.title}?`;\n  }\n\n  render() {\n    return (\n      <Modal\n        onDismiss={() => history.push(\"/\")}\n        title=\"Delete Stream\"\n        content={this.renderContent()}\n        actions={this.actions()}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return { stream: state.streams[props.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, deleteStream }\n)(StreamDelete);\n","import React from 'react';\nimport flv from 'flv.js';\nimport {connect} from 'react-redux';\nimport {fetchStream} from \"../../actions\";\n\nclass StreamShow extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const {id} = this.props.match.params;\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if(this.player || !this.props.stream) {\n      return;\n    }\n    const {id} = this.props.match.params;\n\n    this.player = flv.createPlayer({\n      type: 'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render() {\n    if(!this.props.stream) {\n      return <div>Loading...</div>\n    }\n\n    const {title, description} = this.props.stream;\n\n    return (\n        <div>\n          <video ref={this.videoRef} style={{width: '100%'}} controls />\n          <h1>{title}</h1>\n          <h5>{description}</h5>\n    </div>);\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  console.log(state)\n  return {stream: state.streams[props.match.params.id]}\n};\n\nexport default connect(mapStateToProps, {fetchStream})(StreamShow);\n","import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\nimport {signIn, signOut} from \"../actions\";\n\nclass GoogleAuth extends Component {\n\n  componentDidMount() {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId: '517584791068-up6di76kkrtcek4jdbuburdutg2i701f.apps.googleusercontent.com',\n        scope: 'email'\n      }).then(() => {\n        this.auth = window.gapi.auth2.getAuthInstance();\n        this.onAuthChange(this.auth.isSignedIn.get());\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      });\n    });\n  }\n\n  onAuthChange = (isSignedIn) => {\n    if(isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  renderAuthButton() {\n    if(this.props.isSignedIn === null) {\n      return null\n    } else if(this.props.isSignedIn) {\n      return (<button onClick={this.onSignOutClick} className=\"ui red google button\">\n        <i className=\"google icon\"/>Sign Out\n      </button>);\n    } else {\n      return (<button onClick={this.onSignInClick} className=\"ui red google button\">\n        <i className=\"google icon\"/>Sign In\n      </button>);\n    }\n  }\n\n  render() {\n    return (<div>{this.renderAuthButton()}</div>);\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn }\n};\n\nexport default connect(mapStateToProps, {signOut, signIn})(GoogleAuth);","import React from 'react';\n\nexport default React.createContext('english');\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport GoogleAuth from \"./GoogleAuth\";\nimport LanguageContext from '../context/LanguageContext';\n\nclass Header extends React.Component {\n    state = { language: 'english' };\n    static contextType = LanguageContext;\n\n    onLanguageChange = language => {\n        console.log(this.context)\n        this.setState({language})\n    };\n\n    render() {\n        return (\n            <div className=\"ui secondary pointing menu\">\n                <Link to=\"/\" className=\"item\">All Streams</Link>\n                <div className=\"right menu\">\n                    <div className=\"item\">\n                        <i className=\"flag us\" onClick={() => this.onLanguageChange('english')}/>\n                        <i className=\"flag es\" onClick={() => this.onLanguageChange('spanish')}/>\n                        {this.state.language}\n                    </div>\n                    <GoogleAuth/>\n                </div>\n            </div>\n        );\n    }\n};\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport StreamList from \"./streams/StreamList\";\nimport StreamCreate from \"./streams/StreamCreate\";\nimport StreamEdit from \"./streams/StreamEdit\";\nimport StreamDelete from \"./streams/StreamDelete\";\nimport StreamShow from \"./streams/StreamShow\";\nimport Header from \"./Header\";\nimport history from \"../history\";\nimport LanguageContext from \"../context/LanguageContext\";\n\nclass App extends Component {\n  state = { language: 'english' };\n  static contextType = LanguageContext;\n\n  onLanguageChange = language => {\n    console.log(this.context)\n    this.setState({language})\n  };\n\n  render() {\n    return (\n      <div>\n        <Router history={history}>\n          <div>\n            <Header language={() => this.onLanguageChange()} />\n            <Switch>\n              <Route path=\"/\" exact component={StreamList} />\n              <Route path=\"/streams/new\" exact component={StreamCreate} />\n              <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n              <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n              <Route path=\"/streams/:id\" exact component={StreamShow} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose} from \"redux\";\nimport reduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\nimport App from './components/App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n      reducers,\n      composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n    <Provider store={store}>\n      <App/>\n    </Provider>,\n    document.querySelector('#root')\n);"],"sourceRoot":""}